

{% load widget_tweaks %}
{% load static %}


<div data-dialog-backdrop="{{plan.id}}" data-dialog-backdrop-close="true"
 class="pointer-events-none fixed inset-0 z-[999] grid h-screen w-screen place-items-center bg-black bg-opacity-60 opacity-0 backdrop-blur-sm transition-opacity duration-300">
    <div data-dialog="{{plan.id}}" class="relative mx-auto flex max-w-5xl flex-col rounded-xl bg-white bg-clip-border text-gray-700 shadow-md">    
        <div class="w-full max-w-lg mx-auto p-8">
          <div class="bg-white rounded-lg shadow-lg p-6">
              <h1 class="text-lg font-medium mb-6">Resumo da Assinatura</h2>
               
              <form method="POST">
                  {% csrf_token %}
                  <hr>
                  <div class="grid grid-cols-2 gap-1 my-1"> 
                      <span class="col-span-2 sm:col-span-1 pl-10 text-left">Plano:</span>
                      <span class="col-span-2 sm:col-span-1 pr-10 text-right">{{plan.name}}</span>
                      <input type="hidden" name="plan_id" value="{{plan.id}}">
                      <hr class="col-span-2 my-1">
                      <span class="col-span-2 sm:col-span-1 pl-10 text-left">Valor:</span>
                      <span class="col-span-2 sm:col-span-1 pr-10 text-right">R${{plan.price}}</span>

                      <hr class="col-span-2 my-1">

                  </div>


                  <h1 class="text-lg font-medium mb-6">Dados para Pagamento</h2>
                  <div class="grid grid-cols-2 gap-3 my-3">
                      <div class="col-span-2 sm:col-span-1">
                        <label for="card-number" class="block text-sm font-medium text-gray-700 mb-1">Número do Cartão</label>
                        <label class="relative text-gray-400 focus-within:text-gray-600 block" for="{{ field.id_for_label }}">
                            <img id='svg_cc_type' src="{% static 'images/generic.svg' %}" alt="card" class="pointer-events-none w-8 h-8 absolute top-1/2 transform -translate-y-1/2 left-3"/>
                            {{form.card_number|append_attr:"class: form-input rounded-lg border border-gray-300 py-2 px-4 bg-white placeholder-gray-500 text-gray-500 appearance-none w-72 block pl-14 focus:outline-none focus:border-purple-500"|append_attr:"placeholder: 0000 0000 0000 0000" }} 
                            
                        </label>                       
                      </div>
                      <div class="col-span-2 sm:col-span-1 text-right   ">
                        <label for="cvv" class="block text-sm font-medium mr-10 text-gray-700 mb-1">CVV</label>
                        {{form.security_code|append_attr:"class: w-20 text-center py-2 px-4 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500"|append_attr:"placeholder: 000" }}                          

                    </div>
                      <div class="col-span-2 sm:col-span-1">
                          <label for="expiration-date" class="block  text-sm font-medium text-gray-700 mb-1">Data de Vencimento</label>
                          {{form.expiration_date|append_attr:"class: w-full text-center py-2 px-4 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500"|append_attr:"placeholder: MM / YY" }}                          

                      </div>
                      
                      <div class="col-span-2 sm:col-span-1">
                          <label for="card-holder" class="block text-sm font-medium text-gray-700 mb-1">Tiular do Cartão</label>
                          {{form.card_holder_name|append_attr:"class: w-full text-center py-2 px-4 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500"|append_attr:"placeholder: Titular" }}                          

                      </div>
                  </div>
                  <div class="mt-5">
                      <button type="submit" class="w-full bg-purple-500 hover:bg-purple-600 text-white font-medium py-2 rounded-lg focus:outline-none">Assinar</button>
                  </div>
              </form>
          </div>
        </div>
    </div>
</div>